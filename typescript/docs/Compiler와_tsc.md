# 컴파일러와 tsc

## 컴파일러
- 컴파일러란 기본적으로 프로그래밍 언어로 작성된 소스코드를 다른 프로그래밍 언어로 변환하는 도구이다. 컴파일러는 이러한 언어 변환 과정에서 소스 코드의 구문과 구조를 검사하여 문제가 없는지 확인하는 역할도 한다.
    - 개발자가 작성한 코드에 오류가 있는 경우 검사 오류를 미리 알려주어 해결할 수 있다.
- 또한 컴파일러는 특정 프로그래밍 언어가 정적 타입 언어로서의 정체성(컴파일러가 프로그래머가 작성한 코드를 변환하면서 아래와 같은 정적 언어의 특성을 유지하고 강화한다는 것을 의미)을 유지할 수 있게 하는 도구이다.
    - 정적 언어로서의 정체성
        - 데이터 타입 검사: 정적 언어로 작성된 코드는 컴파일러에 의해 데이터 타입 검사가 수행된다. 이는 변수 및 함수 매개변수의 타입이 예측 가능하며 일관되게 사용되도록 보장한다.
        - 컴파일 타임 오류: 정적 언어의 컴파일러는 코드의 오류를 미리 찾아내며, 런타임 오류를 방지한다. 이로 인해 코드가 더 안정적이고 예측 가능해진다.
        - 최적화: 정적 언어는 컴파일 시간에 코드를 최적화할 수 있으므로 실행 속도가 향상될 수 있다.
        - 타입 안정성: 정적 언어는 데이터 타입이 명시적으로 선언되어 있기 때문에 타입 안정성을 보장한다. 이는 예상치 못한 형 변환 오류를 방지하고 코드의 신뢰성을 높인다.
- 실제 타입 검사를 수행하는 것은 컴파일러가 담당하며, 이를 통하여 개발자는 코드에서 타입 관련 오류를 미리 발견하고 수정할 수 있게 된다.
- 컴파일러는 코드 변환을 수행한다. 타입스크립트 컴파일러인 tsc는 TypeScript를 JavaScript로 변환한다.
    - C언어 컴파일러는 C언어를 기계어로 변환한다.

## 컴파일러를 알아야 하는 이유
- 에러 메시지를 해석할 때 도움을 받을 수 있다. 
    - 컴파일러는 소스 코드에서 문제가 발생하면 에러 메시지를 출력한다.
    - 컴파일러를 이해하면 에러 메시지를 보다 정확하게 해석하고 문제를 신속하게 해결할 수 있다.
- 컴파일러를 이해하면 변환된 코드가 어떻게 실행되는지 예측할 수 있다.

## 컴파일러를 통한 최적화
- 컴파일러의 끝은 최적화이다. 코드가 최적화되면 전반적인 어플리케이션 실행 시간이 더 빨라진다.
- 컴파일러는 이러한 최적화를 자동으로 도와준다.

## 컴파일러 등장 계기
- 컴퓨터는 기본적으로 기계어로 작성된 프로그램만 이해할 수 있다. 하지만 이러한 기계어(저수준의 프로그래밍)는 인간이 보기에 난독화된 알수없는 코드들이다.
    - 위와 같은 문제로, C언어와 같은 고수준(기계어에 비하면 고수준 언어이지만 C언어도 JS보다 저수준 언어에 속한다) 프로그래밍 언어가 등장하게 되었다.
        - 요새는 별로 없지만 C언어 외에도 어셈블리어와 같이 기계어와 크게 다르지 않은 언어를 사용해 코딩을 하는 사람도 있다.
    - C언어로 작성된 코드를 컴퓨터가 이해하려면 기계어로 변환을 하여야 했고, 이로인해 컴파일러가 필요하게 되었다.

## 타입스크립트의 컴파일러인 tsc
- TypeScript는 JavaScript로 변환되어야 코드를 실행할 수 있다.

## 그렇다면 JavaScript는 기계어로 변경될 필요가 없는가?
- JavaScript는 기계어로 변환될 필요가 없다고 한다.
- 변환할 필요가 없는 이유는 JavaScript가 인터프리터 언어(동적 언어)이기 때문이다.
    - Node.js나 Chrome의 경우, JavaScript를 실행할 때 `V8 엔진`이 코드 해석 및 실행을 한다.
    - Firefox로 JavaScript를 실행할 때는 `SpiderMonkey`가 코드 해석 및 실행을 한다. 그렇기 때문에 기계어로 변환될 필요 없이 JavaScript Pure 코드로 실행할 수 있다.
- 인터프리터 언어와 컴파일 언어의 차이점
    - 인터프리터 언어(동적 언어): 엔진이 코드를 한 줄씩 실행하며 동적으로 해석하는 언어이다.
    - 컴파일 언어(정적 언어): 기계어로 변환되어야 한다.

## tsc 주요 명령어
- `tsc --init`: tsconfig.json을 생성하는 명령어이다.
- `tsc index.ts`: index.ts를 컴파일한다. .ts는 TypeScript 파일의 확장자이다.
- `tsc src/*.ts`: src 폴더 내부에 있는 모든 TypeScript 파일을 컴파일한다.
- `tsc index.js --declaration --emitDeclarationOnly`:
    - 이는 TypeScript로 작성된 패키지가 아니라 JavaScript로 작성된 패키지를 사용할 때, JavaScript로 작성된 모듈에 타입 선언을 제공할 때 유용하게 사용된다.
    - 이 명령어는 `@types 패키지`를 위한 `.d.ts` 파일을 생성하는 명령어이다.
    - TypeScript가 생성되기 이전, JavaScript로 작성된 모듈에 대해서도 해당 모듈을 TypeScript에서 사용하고 싶을 때 사용하기 유용한 명령어이다.
- 그 외 명령어 확인 사이트: https://www.typeScriptlang.org/docs/handbook/compiler-options.html
